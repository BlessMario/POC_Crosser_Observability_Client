{"ts": "2026-02-15T21:58:27.692860+00:00", "severity": "INFO", "body": "OpenTelemetry file logging initialized", "attributes": {"otel_log_file": "/app/logs/otel.log", "pid": 1, "log_level": "INFO", "code.file.path": "/app/app/telemetry.py", "code.function.name": "setup_observability", "code.line.number": 82}}
{"ts": "2026-02-15T21:59:32.699581+00:00", "severity": "INFO", "body": "Recorder starting", "attributes": {"session_id": "3d706b05-d31b-4252-b5e3-45c0b9b6f7f5", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 50}}
{"ts": "2026-02-15T21:59:32.699765+00:00", "severity": "INFO", "body": "Connected to MQTT broker", "attributes": {"session_id": "3d706b05-d31b-4252-b5e3-45c0b9b6f7f5", "mqtt_host": "hivemq", "mqtt_port": 1883, "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 73}}
{"ts": "2026-02-15T21:59:32.699847+00:00", "severity": "WARN", "body": "unfiltered_messages() is deprecated and will be removed in a future version. Use messages() instead.", "attributes": {"code.file.path": "/usr/local/lib/python3.12/site-packages/asyncio_mqtt/client.py", "code.function.name": "unfiltered_messages", "code.line.number": 507}}
{"ts": "2026-02-15T21:59:32.699914+00:00", "severity": "INFO", "body": "Subscribed topic filter", "attributes": {"session_id": "3d706b05-d31b-4252-b5e3-45c0b9b6f7f5", "topic_filter": "copilot/test/#", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 81}}
{"ts": "2026-02-15T21:59:32.699974+00:00", "severity": "ERROR", "body": "Unexpected recorder failure", "attributes": {"session_id": "3d706b05-d31b-4252-b5e3-45c0b9b6f7f5", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 111, "exception.type": "StopAsyncIteration", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/app/app/services.py\", line 85, in _run\n    msg = await asyncio.wait_for(messages.__anext__(), timeout=0.5)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\nStopAsyncIteration\n"}}
{"ts": "2026-02-15T21:59:32.700049+00:00", "severity": "INFO", "body": "Recorder stopped", "attributes": {"session_id": "3d706b05-d31b-4252-b5e3-45c0b9b6f7f5", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 116}}
{"ts": "2026-02-15T21:59:32.700107+00:00", "severity": "ERROR", "body": "Recorder task failed while stopping", "attributes": {"session_id": "3d706b05-d31b-4252-b5e3-45c0b9b6f7f5", "code.file.path": "/app/app/services.py", "code.function.name": "stop", "code.line.number": 45, "exception.type": "StopAsyncIteration", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/app/app/services.py\", line 43, in stop\n    await self._task\n  File \"/app/app/services.py\", line 85, in _run\n    msg = await asyncio.wait_for(messages.__anext__(), timeout=0.5)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\nStopAsyncIteration\n"}}
{"ts": "2026-02-15T21:59:47.715834+00:00", "severity": "INFO", "body": "Recorder starting", "attributes": {"session_id": "0b47464d-45ba-47f3-b00c-32dde83e4815", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 50}}
{"ts": "2026-02-15T21:59:47.715900+00:00", "severity": "INFO", "body": "Connected to MQTT broker", "attributes": {"session_id": "0b47464d-45ba-47f3-b00c-32dde83e4815", "mqtt_host": "hivemq", "mqtt_port": 1883, "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 73}}
{"ts": "2026-02-15T21:59:47.715924+00:00", "severity": "WARN", "body": "unfiltered_messages() is deprecated and will be removed in a future version. Use messages() instead.", "attributes": {"code.file.path": "/usr/local/lib/python3.12/site-packages/asyncio_mqtt/client.py", "code.function.name": "unfiltered_messages", "code.line.number": 507}}
{"ts": "2026-02-15T21:59:47.715944+00:00", "severity": "INFO", "body": "Subscribed topic filter", "attributes": {"session_id": "0b47464d-45ba-47f3-b00c-32dde83e4815", "topic_filter": "copilot/test/#", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 81}}
{"ts": "2026-02-15T21:59:47.715961+00:00", "severity": "INFO", "body": "Persisted MQTT batch", "attributes": {"rows": 1, "code.file.path": "/app/app/services.py", "code.function.name": "flush", "code.line.number": 133}}
{"ts": "2026-02-15T21:59:47.715977+00:00", "severity": "ERROR", "body": "Unexpected recorder failure", "attributes": {"session_id": "0b47464d-45ba-47f3-b00c-32dde83e4815", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 111, "exception.type": "StopAsyncIteration", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/app/app/services.py\", line 85, in _run\n    msg = await asyncio.wait_for(messages.__anext__(), timeout=0.5)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\nStopAsyncIteration\n"}}
{"ts": "2026-02-15T21:59:47.715997+00:00", "severity": "INFO", "body": "Recorder stopped", "attributes": {"session_id": "0b47464d-45ba-47f3-b00c-32dde83e4815", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 116}}
{"ts": "2026-02-15T21:59:47.716013+00:00", "severity": "ERROR", "body": "Recorder task failed while stopping", "attributes": {"session_id": "0b47464d-45ba-47f3-b00c-32dde83e4815", "code.file.path": "/app/app/services.py", "code.function.name": "stop", "code.line.number": 45, "exception.type": "StopAsyncIteration", "exception.stacktrace": "Traceback (most recent call last):\n  File \"/app/app/services.py\", line 43, in stop\n    await self._task\n  File \"/app/app/services.py\", line 85, in _run\n    msg = await asyncio.wait_for(messages.__anext__(), timeout=0.5)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\nStopAsyncIteration\n"}}
{"ts": "2026-02-15T22:00:47.721316+00:00", "severity": "INFO", "body": "OpenTelemetry file logging initialized", "attributes": {"otel_log_file": "/app/logs/otel.log", "pid": 1, "log_level": "INFO", "code.file.path": "/app/app/telemetry.py", "code.function.name": "setup_observability", "code.line.number": 82}}
{"ts": "2026-02-15T22:01:17.730037+00:00", "severity": "INFO", "body": "Recorder starting", "attributes": {"session_id": "b0112e0c-4a91-46e0-bc39-370ae5bed8df", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 50}}
{"ts": "2026-02-15T22:01:17.730198+00:00", "severity": "INFO", "body": "Connected to MQTT broker", "attributes": {"session_id": "b0112e0c-4a91-46e0-bc39-370ae5bed8df", "mqtt_host": "hivemq", "mqtt_port": 1883, "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 73}}
{"ts": "2026-02-15T22:01:17.730271+00:00", "severity": "WARN", "body": "unfiltered_messages() is deprecated and will be removed in a future version. Use messages() instead.", "attributes": {"code.file.path": "/usr/local/lib/python3.12/site-packages/asyncio_mqtt/client.py", "code.function.name": "unfiltered_messages", "code.line.number": 507}}
{"ts": "2026-02-15T22:01:17.730329+00:00", "severity": "INFO", "body": "Subscribed topic filter", "attributes": {"session_id": "b0112e0c-4a91-46e0-bc39-370ae5bed8df", "topic_filter": "copilot/test/#", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 81}}
{"ts": "2026-02-15T22:01:17.730381+00:00", "severity": "INFO", "body": "Persisted MQTT batch", "attributes": {"rows": 1, "code.file.path": "/app/app/services.py", "code.function.name": "flush", "code.line.number": 139}}
{"ts": "2026-02-15T22:01:17.730431+00:00", "severity": "WARN", "body": "MQTT message stream ended", "attributes": {"session_id": "b0112e0c-4a91-46e0-bc39-370ae5bed8df", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 89}}
{"ts": "2026-02-15T22:01:17.730476+00:00", "severity": "INFO", "body": "Recorder stopped", "attributes": {"session_id": "b0112e0c-4a91-46e0-bc39-370ae5bed8df", "code.file.path": "/app/app/services.py", "code.function.name": "_run", "code.line.number": 122}}
